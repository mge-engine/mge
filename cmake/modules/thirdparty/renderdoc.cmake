# mge - Modern Game Engine
# Copyright (c) 2017-2023 by Alexander Schroeder
# All rights reserved.
INCLUDE_GUARD(GLOBAL)

INCLUDE(thirdparty/scoop)
IF(WIN32 AND SCOOP_EXECUTABLE)
    EXECUTE_PROCESS(COMMAND cmd /c "${SCOOP_EXECUTABLE}" prefix renderdoc
        OUTPUT_VARIABLE SCOOP_RENDERDOC_PREFIX
        OUTPUT_STRIP_TRAILING_WHITESPACE
        ERROR_STRIP_TRAILING_WHITESPACE)
    FIND_PROGRAM(RENDERDOCCMD_EXECUTABLE renderdoccmd.exe
        HINTS "${SCOOP_RENDERDOC_PREFIX}")
ELSE()
    FIND_PROGRAM(RENDERDOCCMD_EXECUTABLE renderdoccmd)
ENDIF()

if(RENDERDOCCMD_EXECUTABLE)
    MESSAGE(STATUS "RenderDoc found at ${RENDERDOCCMD_EXECUTABLE}")
    GET_FILENAME_COMPONENT(RENDERDOC_PATH "${RENDERDOCCMD_EXECUTABLE}" DIRECTORY)
    MESSAGE(STATUS "RenderDoc path: ${RENDERDOC_PATH}")
else()
    MESSAGE(STATUS "RenderDoc not found")
endif()
 